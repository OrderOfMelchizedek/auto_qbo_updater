[flake8]
# More reasonable line length for modern screens
max-line-length = 120

# Realistic complexity limit for business logic
max-complexity = 20

# Exclude directories that shouldn't be linted
exclude =
    .git,
    __pycache__,
    venv,
    .venv,
    build,
    dist,
    *.egg-info,
    migrations,
    .pytest_cache,
    flask_session,
    .github,
    docs,
    scripts

# Ignore non-critical issues while still catching real problems
ignore =
    # E501: Line too long - handled by black, 120 is reasonable
    E501,
    # E203: Whitespace before ':' - conflicts with black
    E203,
    # W503: Line break before binary operator - outdated rule
    W503,
    # E402: Import not at top - sometimes necessary for Flask apps
    E402,
    # E722: Bare except - sometimes needed for robustness
    E722,
    # E712: Comparison to True/False - sometimes clearer
    E712,
    # F541: f-string without placeholders - can be intentional
    F541,
    # C901: Function too complex - handled by our higher limit
    C901,
    # F401: Imported but unused - common in __init__.py and for side effects
    F401,
    # W293: Blank line with whitespace - cosmetic only
    W293,
    # W291: Trailing whitespace - cosmetic only
    W291,
    # F811: Redefinition of unused - often happens in tests
    F811,
    # F841: Local variable assigned but never used - sometimes intentional
    F841,
    # E226: Missing whitespace around arithmetic operator - common in f-strings
    E226,
    # F824: Global variable is unused - false positive for globals modified in functions
    F824

# Per-file exceptions for special cases
per-file-ignores =
    # Tests can have different standards
    tests/*:F401,F811,F841,E501
    # __init__.py files often import for re-export
    */__init__.py:F401,F403
    # Settings and config files may have imports for side effects
    */config.py:F401,E402
    */settings.py:F401,E402

# Focus on catching real issues:
# - E9xx: Syntax errors (critical)
# - F63x: Incorrect use of assertions
# - F7xx: Syntax errors and undefined names
# - F82x: Undefined names (critical)
# These are checked by the first flake8 command in CI

# Statistics
statistics = True
count = True
show-source = True
